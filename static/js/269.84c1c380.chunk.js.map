{"version":3,"file":"static/js/269.84c1c380.chunk.js","mappings":"4LACA,QAAkC,gCAAlC,EAAgF,4BAAhF,EAAyP,iCAAzP,EAAuS,2BAAvS,EAAgV,4BAAhV,EAAyX,2BAAzX,EAA+Z,yBAA/Z,EAAsc,4B,aCItc,MAmDA,EAnDeA,KACb,MAAOC,EAAoBC,IAAyBC,EAAAA,EAAAA,UAAS,KACtDC,EAAaC,IAAkBF,EAAAA,EAAAA,UAAS,KACxCG,IAAgBC,EAAAA,EAAAA,OAEvBC,EAAAA,EAAAA,YAAU,KACR,MAAMC,EAAaH,EAAaI,IAAI,SACpCL,EAAeI,GAAc,IACzBA,EACFE,EAAYF,GAEZP,EAAsB,GACxB,GACC,CAACI,IAEJ,MAAMK,EAAcC,UAClB,IACE,MAAMC,QAAiBC,EAAAA,EAAAA,IAAU,mDAADC,OACqBC,EAAK,aAAAD,OAAYE,CAAAA,SAAAA,aAAAA,WAAAA,2BAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYC,yBAElFhB,EAAsBW,EAASM,KAAKC,QAGtC,CAFE,MAAOC,GACPC,QAAQD,MAAM,0BAA2BA,EAC3C,GAGF,OACEE,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAuBC,SAAA,EACrCH,EAAAA,EAAAA,MAAA,MAAIC,UAAWC,EAAmBC,SAAA,CAAC,uBAAqBtB,EAAY,QACpEuB,EAAAA,EAAAA,KAAA,MAAIH,UAAWC,EAAwBC,SACpCzB,EAAmB2B,KAAIC,IACtBF,EAAAA,EAAAA,KAAA,MAAmBH,UAAWC,EAAkBC,UAC9CH,EAAAA,EAAAA,MAACO,EAAAA,GAAI,CAACC,GAAE,WAAAhB,OAAac,EAAMG,IAAMR,UAAWC,EAAkBC,SAAA,CAC3DG,EAAMI,aACLN,EAAAA,EAAAA,KAAA,OACEH,UAAWC,EACXS,IAAG,kCAAAnB,OAAoCc,EAAMI,aAC7CE,IAAKN,EAAMO,SAGbT,EAAAA,EAAAA,KAAA,QAAMH,UAAWC,EAAgBC,SAAC,eAEpCC,EAAAA,EAAAA,KAAA,QAAMH,UAAWC,EAAmBC,SAAEG,EAAMO,YAXvCP,EAAMG,UAgBf,C","sources":["webpack://react-homework-template/./src/components/MoviesSearch/Movies.module.css?6282","components/MoviesSearch/Movies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"containerSearch\":\"Movies_containerSearch__mWT1D\",\"searchTitle\":\"Movies_searchTitle__r-ANI\",\"searchLabel\":\"Movies_searchLabel__Wbrq7\",\"labelSearch\":\"Movies_labelSearch__VxEG2\",\"btnSearch\":\"Movies_btnSearch__LxZaL\",\"containerPosters\":\"Movies_containerPosters__zcZzP\",\"posterItem\":\"Movies_posterItem__IjeAh\",\"posterImage\":\"Movies_posterImage__MCEbM\",\"posterLink\":\"Movies_posterLink__-6GKJ\",\"noPoster\":\"Movies_noPoster__ist0b\",\"posterTitle\":\"Movies_posterTitle__yLPGX\"};","import React, { useEffect, useState } from 'react';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport axios from 'axios';\nimport styles from './Movies.module.css';\n\nconst Movies = () => {\n  const [localSearchResults, setLocalSearchResults] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchParams] = useSearchParams();\n\n  useEffect(() => {\n    const queryParam = searchParams.get('query');\n    setSearchQuery(queryParam || '');\n    if (queryParam) {\n      fetchMovies(queryParam);\n    } else {\n      setLocalSearchResults([]);\n    }\n  }, [searchParams]);\n\n  const fetchMovies = async query => {\n    try {\n      const response = await axios.get(\n        `https://api.themoviedb.org/3/search/movie?query=${query}&api_key=${process.env.REACT_APP_TMDB_API_KEY}`\n      );\n      setLocalSearchResults(response.data.results);\n    } catch (error) {\n      console.error('Error searching movies:', error);\n    }\n  };\n\n  return (\n    <div className={styles.containerSearch}>\n      <h2 className={styles.searchTitle}>Search Results for \"{searchQuery}\"</h2>\n      <ul className={styles.containerPosters}>\n        {localSearchResults.map(movie => (\n          <li key={movie.id} className={styles.posterItem}>\n            <Link to={`/movies/${movie.id}`} className={styles.posterLink}>\n              {movie.poster_path ? (\n                <img\n                  className={styles.posterImage}\n                  src={`https://image.tmdb.org/t/p/w500${movie.poster_path}`}\n                  alt={movie.title}\n                />\n              ) : (\n                <span className={styles.noPoster}>No poster</span>\n              )}\n              <span className={styles.posterTitle}>{movie.title}</span>\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["Movies","localSearchResults","setLocalSearchResults","useState","searchQuery","setSearchQuery","searchParams","useSearchParams","useEffect","queryParam","get","fetchMovies","async","response","axios","concat","query","process","REACT_APP_TMDB_API_KEY","data","results","error","console","_jsxs","className","styles","children","_jsx","map","movie","Link","to","id","poster_path","src","alt","title"],"sourceRoot":""}