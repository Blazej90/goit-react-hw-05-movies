{"version":3,"file":"static/js/269.b9d6fd86.chunk.js","mappings":"4PACA,EAAkC,gCAAlC,EAAgF,4BAAhF,EAAyP,iCAAzP,EAAuS,2BAAvS,EAAgV,4BAAhV,EAAyX,2BAAzX,EAA+Z,yBAA/Z,EAAsc,4B,SCuDtc,EAnDe,WACb,IAAAA,GAAoDC,EAAAA,EAAAA,UAAS,IAAGC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAzDI,EAAkBF,EAAA,GAAEG,EAAqBH,EAAA,GAChDI,GAAsCL,EAAAA,EAAAA,UAAS,IAAGM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAA3CE,EAAWD,EAAA,GAAEE,EAAcF,EAAA,GAClCG,GAAuBC,EAAAA,EAAAA,MAAhBC,GAAiCT,EAAAA,EAAAA,GAAAO,EAAA,GAArB,IAEnBG,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAaF,EAAaG,IAAI,SACpCN,EAAeK,GAAc,IACzBA,EACFE,EAAYF,GAEZT,EAAsB,GAE1B,GAAG,CAACO,IAEJ,IAAMI,EAAW,eAAAC,GAAAC,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,EAAMC,GAAK,IAAAC,EAAA,OAAAH,IAAAA,MAAA,SAAAI,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAEJC,EAAAA,EAAAA,IAAU,mDAADC,OACqBN,EAAK,aAAAM,OAAYC,CAAAA,SAAAA,aAAAA,WAAAA,2BAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,qBAAAA,EAAAA,cAAAA,GAAYC,yBAChF,KAAD,EAFKP,EAAQC,EAAAO,KAGdzB,EAAsBiB,EAASS,KAAKC,SAAST,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAU,GAAAV,EAAA,SAE7CW,QAAQC,MAAM,0BAAyBZ,EAAAU,IAAS,yBAAAV,EAAAa,OAAA,GAAAhB,EAAA,kBAEnD,gBATgBiB,GAAA,OAAApB,EAAAqB,MAAA,KAAAC,UAAA,KAWjB,OACEC,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAuBC,SAAA,EACrCH,EAAAA,EAAAA,MAAA,MAAIC,UAAWC,EAAmBC,SAAA,CAAC,uBAAqBnC,EAAY,QACpEoC,EAAAA,EAAAA,KAAA,MAAIH,UAAWC,EAAwBC,SACpCvC,EAAmByC,KAAI,SAAAC,GAAK,OAC3BF,EAAAA,EAAAA,KAAA,MAAmBH,UAAWC,EAAkBC,UAC9CH,EAAAA,EAAAA,MAACO,EAAAA,GAAI,CAACC,GAAE,WAAArB,OAAamB,EAAMG,IAAMR,UAAWC,EAAkBC,SAAA,CAC3DG,EAAMI,aACLN,EAAAA,EAAAA,KAAA,OACEH,UAAWC,EACXS,IAAG,kCAAAxB,OAAoCmB,EAAMI,aAC7CE,IAAKN,EAAMO,SAGbT,EAAAA,EAAAA,KAAA,QAAMH,UAAWC,EAAgBC,SAAC,eAEpCC,EAAAA,EAAAA,KAAA,QAAMH,UAAWC,EAAmBC,SAAEG,EAAMO,YAXvCP,EAAMG,GAaV,QAKf,C","sources":["webpack://react-homework-template/./src/components/MoviesSearch/Movies.module.css?6282","components/MoviesSearch/Movies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"containerSearch\":\"Movies_containerSearch__mWT1D\",\"searchTitle\":\"Movies_searchTitle__r-ANI\",\"searchLabel\":\"Movies_searchLabel__Wbrq7\",\"labelSearch\":\"Movies_labelSearch__VxEG2\",\"btnSearch\":\"Movies_btnSearch__LxZaL\",\"containerPosters\":\"Movies_containerPosters__zcZzP\",\"posterItem\":\"Movies_posterItem__IjeAh\",\"posterImage\":\"Movies_posterImage__MCEbM\",\"posterLink\":\"Movies_posterLink__-6GKJ\",\"noPoster\":\"Movies_noPoster__ist0b\",\"posterTitle\":\"Movies_posterTitle__yLPGX\"};","import React, { useEffect, useState } from 'react';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport axios from 'axios';\nimport styles from './Movies.module.css';\n\nconst Movies = () => {\n  const [localSearchResults, setLocalSearchResults] = useState([]);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchParams] = useSearchParams();\n\n  useEffect(() => {\n    const queryParam = searchParams.get('query');\n    setSearchQuery(queryParam || '');\n    if (queryParam) {\n      fetchMovies(queryParam);\n    } else {\n      setLocalSearchResults([]);\n    }\n  }, [searchParams]);\n\n  const fetchMovies = async query => {\n    try {\n      const response = await axios.get(\n        `https://api.themoviedb.org/3/search/movie?query=${query}&api_key=${process.env.REACT_APP_TMDB_API_KEY}`\n      );\n      setLocalSearchResults(response.data.results);\n    } catch (error) {\n      console.error('Error searching movies:', error);\n    }\n  };\n\n  return (\n    <div className={styles.containerSearch}>\n      <h2 className={styles.searchTitle}>Search Results for \"{searchQuery}\"</h2>\n      <ul className={styles.containerPosters}>\n        {localSearchResults.map(movie => (\n          <li key={movie.id} className={styles.posterItem}>\n            <Link to={`/movies/${movie.id}`} className={styles.posterLink}>\n              {movie.poster_path ? (\n                <img\n                  className={styles.posterImage}\n                  src={`https://image.tmdb.org/t/p/w500${movie.poster_path}`}\n                  alt={movie.title}\n                />\n              ) : (\n                <span className={styles.noPoster}>No poster</span>\n              )}\n              <span className={styles.posterTitle}>{movie.title}</span>\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["_useState","useState","_useState2","_slicedToArray","localSearchResults","setLocalSearchResults","_useState3","_useState4","searchQuery","setSearchQuery","_useSearchParams","useSearchParams","searchParams","useEffect","queryParam","get","fetchMovies","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","query","response","_context","prev","next","axios","concat","process","REACT_APP_TMDB_API_KEY","sent","data","results","t0","console","error","stop","_x","apply","arguments","_jsxs","className","styles","children","_jsx","map","movie","Link","to","id","poster_path","src","alt","title"],"sourceRoot":""}